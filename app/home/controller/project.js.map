{
    "version": 3,
    "sources": [
        "../../../src/home/controller/project.js"
    ],
    "names": [
        "Enum",
        "queryAction",
        "pageNo",
        "get",
        "pageSize",
        "session",
        "userInfo",
        "think",
        "isEmpty",
        "fail",
        "NOT_NOGIN",
        "code",
        "msg",
        "model",
        "join",
        "table",
        "as",
        "on",
        "page",
        "where",
        "id",
        "field",
        "countSelect",
        "result",
        "success",
        "pages",
        "totalCount",
        "totalPage",
        "tables",
        "count",
        "totalPages",
        "data"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;IAAaA,I;;;;;;;;;;;;;;AAGX;;;;mBAIMC,W;;;;;;;AACAC,oB,GAAS,KAAKC,GAAL,CAAS,QAAT,C;AACTC,sB,GAAW,KAAKD,GAAL,CAAS,UAAT,C;;qBACM,KAAKE,OAAL,CAAa,UAAb,C;;;AAAjBC,sB;;mBACDC,MAAMC,OAAN,CAAcF,QAAd,C;;;;;+CACM,KAAKG,IAAL,CAAUT,KAAKU,SAAL,CAAeC,IAAzB,EAA+BX,KAAKU,SAAL,CAAeE,GAA9C,C;;;;qBAEU,KAAKC,KAAL,CAAW,SAAX,EAAsBC,IAAtB,CAA2B;AAC5CC,uBAAO,UADqC;AAE5CD,sBAAM,OAFsC;AAG5CE,oBAAI,IAHwC;AAI5CC,oBAAI,CAAC,IAAD,EAAO,WAAP;AAJwC,eAA3B,EAKhBC,IALgB,CAKXhB,MALW,EAKHE,QALG,EAKOe,KALP,CAKa,EAAC,aAAab,SAASc,EAAvB,EALb,EAKyCC,KALzC,CAK+C,2IAL/C,EAK4LC,WAL5L,E;;;AAAfC,oB;;mBAMDhB,MAAMC,OAAN,CAAce,MAAd,C;;;;;+CACM,KAAKC,OAAL,CAAa,EAACC,OAAO,EAACvB,QAAQA,MAAT,EAAiBE,UAAUA,QAA3B,EAAqCsB,YAAY,CAAjD,EAAoDC,WAAW,CAA/D,EAAR,EAA2EC,QAAQ,EAAnF,EAAb,C;;;+CAEF,KAAKJ,OAAL,CAAa,EAACC,OAAO,EAACvB,QAAQA,MAAT,EAAiBE,UAAUA,QAA3B,EAAqCsB,YAAYH,OAAOM,KAAxD,EAA+DF,WAAWJ,OAAOO,UAAjF,EAAR,EAAsGF,QAAQL,OAAOQ,IAArH,EAAb,C",
    "file": "../../../src/home/controller/project.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport  * as Enum from '../../enum.js';\n\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  async queryAction(){\n    let pageNo = this.get(\"pageNo\");\n    let pageSize = this.get(\"pageSize\");\n    let userInfo = await this.session(\"userInfo\");\n    if(think.isEmpty(userInfo)) {\n      return this.fail(Enum.NOT_NOGIN.code, Enum.NOT_NOGIN.msg);\n    }\n    let result = await this.model(\"project\").join({\n      table: \"userAuth\",\n      join: \"inner\",\n      as: 'ua',\n      on: ['id', 'projectId']\n    }).page(pageNo, pageSize).where({'ua.userId': userInfo.id}).field(\"project.id,project.projectName,project.projectPrefix,project.proxyURL,date_format(project.createTime, '%Y-%c-%d %h:%i:%s' ) as createTime\").countSelect();\n    if(think.isEmpty(result)) {\n      return this.success({pages: {pageNo: pageNo, pageSize: pageSize, totalCount: 0, totalPage: 0}, tables: []});\n    }\n    return this.success({pages: {pageNo: pageNo, pageSize: pageSize, totalCount: result.count, totalPage: result.totalPages}, tables: result.data});\n  }\n}\n"
    ]
}